---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Sidebar from '../components/Sidebar.astro';
import ModelViewer from '../components/ModelViewer.astro';
import { detectLanguage, createTranslator } from '../i18n/index';

// Detect language from request headers
const language = detectLanguage(Astro.request.headers.get('accept-language') || '');
const t = createTranslator(language);
---

<!-- Main page styles -->
<link rel="stylesheet" href="/src/styles/pages/app.css">

<Layout>
  <div class="vtryon-app app-container">
    <Header title={t('app.header.title')} />
    <main class="main-content">
      <Sidebar />
      <ModelViewer />
    </main>
  </div>
</Layout>