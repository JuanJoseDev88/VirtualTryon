---
import Layout from '../layouts/Layout.astro';
import LandingNavbar from '../components/landing/LandingNavbar.astro';
import HeroSection from '../components/landing/HeroSection.astro';
import FeaturesSection from '../components/landing/FeaturesSection.astro';
import HowItWorksSection from '../components/landing/HowItWorksSection.astro';
import DemoSection from '../components/landing/DemoSection.astro';
import CTASection from '../components/landing/CTASection.astro';
import LandingFooter from '../components/landing/LandingFooter.astro';
import { detectLanguage, createTranslator } from '../i18n/index';

// Detect language from request headers
const language = detectLanguage(Astro.request.headers.get('accept-language') || '');
const t = createTranslator(language);
---

<!-- Landing page styles -->
<link rel="stylesheet" href="/src/styles/pages/index.css">

<Layout>
  <div class="landing-container">
    <!-- Hero Section -->
    <header class="hero">
      <LandingNavbar />
      <HeroSection />
    </header>

    <!-- Features Section -->
    <FeaturesSection />

    <!-- How It Works Section -->
    <HowItWorksSection />

    <!-- Demo Section -->
    <DemoSection />

    <!-- CTA Section -->
    <CTASection />

    <!-- Footer -->
    <LandingFooter />
  </div>
</Layout>

<script>
  // Landing page interactions
  import '../scripts/components/LandingPage.ts';
  // Client-side i18n for dynamic language switching
  import '../i18n/client.ts';
</script>