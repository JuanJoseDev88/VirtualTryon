---
import "../styles/components/clothes-selector.css";
import "../styles/components/upload-button.css";
import { createTranslator, DEFAULT_LANGUAGE } from '../i18n/index';

// Use default language for server-side rendering
const t = createTranslator(DEFAULT_LANGUAGE);

const cloudName = import.meta.env.VITE_CLOUDINARY_CLOUD_NAME;
const uploadPreset = import.meta.env.VITE_CLOUDINARY_UPLOAD_PRESET;

interface ClothingItem {
  id: string;
  nameKey: string;
  category: string;
  image: string;
  price: string;
}

const clothingItems: ClothingItem[] = [
  {
    id: "1",
    nameKey: "app.clothingItems.classicWhiteShirt",
    category: "tops",
    image:
      "https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=200&h=200",
    price: "$49",
  },
  {
    id: "2",
    nameKey: "app.clothingItems.summerBlouse",
    category: "tops",
    image:
      "https://images.pexels.com/photos/1536619/pexels-photo-1536619.jpeg?auto=compress&cs=tinysrgb&w=200&h=200",
    price: "$39",
  },
  {
    id: "3",
    nameKey: "app.clothingItems.denimJeans",
    category: "bottoms",
    image:
      "https://images.pexels.com/photos/1598507/pexels-photo-1598507.jpeg?auto=compress&cs=tinysrgb&w=200&h=200",
    price: "$79",
  },
  {
    id: "4",
    nameKey: "app.clothingItems.elegantDress",
    category: "one-piece",
    image:
      "https://images.pexels.com/photos/1040424/pexels-photo-1040424.jpeg?auto=compress&cs=tinysrgb&w=200&h=200",
    price: "$89",
  },
];
---

<div class="clothes-selector">
  <h3 class="section-title" data-i18n="app.clothesSelector.title">{t('app.clothesSelector.title')}</h3>

  <button id="upload_widget" class="upload-button" data-i18n="app.clothesSelector.uploadFiles">{t('app.clothesSelector.uploadFiles')}</button>

  <!-- Add data attributes to pass the values -->
  <div
    id="cloudinary-config"
    data-cloud-name={cloudName}
    data-upload-preset={uploadPreset}
    style="display: none;"
  >
  </div>
</div>

<script>
  import "../scripts/components/ClothesSelector.ts";
  import "../scripts/components/cloudinaryUpload.ts";
  import "../i18n/client.ts";
</script>
