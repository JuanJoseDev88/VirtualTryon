---
import '../styles/components/model-viewer.css';
---

<div class="model-viewer">
  <div class="viewer-container">
    <div class="model-display" id="modelDisplay">
      <div class="empty-state">
        <div class="placeholder-avatar">
          <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
        <h3>Select a Model</h3>
        <p>Choose a model type and select from our gallery to get started</p>
      </div>
      
      <div class="model-preview" id="modelPreview" style="display: none;">
        <img id="modelImage" src="" alt="Selected model" />
        <div class="model-info-overlay">
          <div class="model-badge" id="modelBadge">Model</div>
        </div>
        <div class="clothing-overlay" id="clothingOverlay" style="display: none;">
          <img id="clothingImage" src="" alt="Selected clothing" />
        </div>
      </div>
    </div>
    
    <div class="viewer-controls">
      <button class="control-btn" id="resetBtn" title="Reset Selection">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
          <path d="M21 3v5h-5"></path>
          <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
          <path d="M3 21v-5h5"></path>
        </svg>
      </button>
      <button class="control-btn" id="fullscreenBtn" title="Fullscreen View">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
        </svg>
      </button>
      <button class="control-btn" id="shareBtn" title="Share Result">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
          <polyline points="16,6 12,2 8,6"></polyline>
          <line x1="12" y1="2" x2="12" y2="15"></line>
        </svg>
      </button>
    </div>
  </div>
</div>

<script>
  import '../scripts/components/ModelViewer.ts';
</script>
